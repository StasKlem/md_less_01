# LLM Chat Client

–ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ TUI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Go –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å Large Language Models —á–µ—Ä–µ–∑ API —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –≤—ã–≤–æ–¥–∞ —Ç–æ–∫–µ–Ω–æ–≤.

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Go](https://img.shields.io/badge/go-1.21+-00ADD8?logo=go)

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üñ•Ô∏è **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π TUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –Ω–∞ –±–∞–∑–µ Bubble Tea
- ‚ö° **–ü–æ—Ç–æ–∫–æ–≤—ã–π –≤—ã–≤–æ–¥** –æ—Ç–≤–µ—Ç–æ–≤ (—Ç–æ–∫–µ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ –º–µ—Ä–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è)
- üí¨ **–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚öôÔ∏è **–ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** —á–µ—Ä–µ–∑ JSON —Ñ–∞–π–ª –∏ CLI —Ñ–ª–∞–≥–∏
- üéõÔ∏è **–ö–æ–º–∞–Ω–¥—ã –≤ —á–∞—Ç–µ** –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–∞ –ª–µ—Ç—É
- üîê **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî API –∫–ª—é—á —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `ROUTERAI_API_KEY`
- üìù **–ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
- üîÑ **–ê–≤—Ç–æ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ API** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ OpenAI –∏ Ollama

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
go mod download
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–∞

```bash
export ROUTERAI_API_KEY="your-api-key-here"
```

### 3. –ó–∞–ø—É—Å–∫

```bash
# –°–±–æ—Ä–∫–∞
go build -o llm-client .

# –ó–∞–ø—É—Å–∫ —Å –∫–æ–Ω—Ñ–∏–≥–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
./llm-client

# –° —É–∫–∞–∑–∞–Ω–∏–µ–º –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞
./llm-client -address http://localhost:11434 -model llama3
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.21 –∏–ª–∏ –Ω–æ–≤–µ–µ
- –¢–µ—Ä–º–∏–Ω–∞–ª —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Unicode
- –î–æ—Å—Ç—É–ø –∫ LLM —Å–µ—Ä–≤–µ—Ä—É (Ollama, vLLM, OpenAI API –∏ –¥—Ä.)

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ JSON —Ñ–∞–π–ª–∞. –ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [CONFIG.md](CONFIG.md).

```bash
# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
./llm-client -init-config

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
./llm-client -config config.json
```

### –ü—Ä–∏–º–µ—Ä config.json

```json
{
  "server": {
    "address": "http://localhost:11434",
    "use_ollama": true
  },
  "model": {
    "name": "llama3",
    "temperature": 0.7,
    "top_p": 0.9
  },
  "log": {
    "enabled": true,
    "file_path": "/tmp/llm-client.log",
    "log_requests": true,
    "log_responses": true
  }
}
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------|
| `ROUTERAI_API_KEY` | API –∫–ª—é—á –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ |
| `LLM_CLIENT_CONFIG` | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |
| `LLM_CLIENT_LOG` | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –ª–æ–≥–æ–≤ |

### –§–ª–∞–≥–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

| –§–ª–∞–≥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `-config <path>` | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |
| `-address <url>` | –ê–¥—Ä–µ—Å LLM —Å–µ—Ä–≤–µ—Ä–∞ |
| `-model <name>` | –ò–º—è –º–æ–¥–µ–ª–∏ |
| `-system <text>` | –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç |
| `-temperature <float>` | –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (0.0-2.0) |
| `-top-p <float>` | Top P –ø–∞—Ä–∞–º–µ—Ç—Ä (0.0-1.0) |
| `-show-config` | –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
| `-init-config` | –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
./llm-client
```

### –° —Ñ–ª–∞–≥–∞–º–∏

```bash
./llm-client \
  -address http://localhost:11434 \
  -model mistral \
  -temperature 0.8 \
  -top-p 0.95
```

### –° –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```bash
export LLM_CLIENT_LOG=/tmp/llm-client.log
./llm-client
```

## –ö–æ–º–∞–Ω–¥—ã –≤ —á–∞—Ç–µ

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------|
| `/set <param> <value>` | –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä | `/set temperature 0.9` |
| `/clear` | –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é | `/clear` |
| `/config` | –ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ | `/config` |
| `/save` | –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ | `/save` |
| `/help` | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É | `/help` |
| `/exit` | –í—ã–π—Ç–∏ | `/exit` |

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è `/set`

- `temperature` –∏–ª–∏ `temp` ‚Äî —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (0.0-2.0)
- `top_p` –∏–ª–∏ `top-p` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä top_p (0.0-1.0)
- `model` ‚Äî –∏–º—è –º–æ–¥–µ–ª–∏
- `system` ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

| –ö–ª–∞–≤–∏—à–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|----------|
| `Enter` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ |
| `‚Üë` / `‚Üì` | –°–∫—Ä–æ–ª–ª –∏—Å—Ç–æ—Ä–∏–∏ |
| `PgUp` / `PgDn` | –ë—ã—Å—Ç—Ä—ã–π —Å–∫—Ä–æ–ª–ª |
| `Ctrl+C` | –ü—Ä–µ—Ä–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é / –í—ã—Ö–æ–¥ |

## –ü—Ä–∏–º–µ—Ä—ã

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Ollama

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ Ollama
ollama serve
ollama pull llama3

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç
./llm-client -address http://localhost:11434 -model llama3
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ OpenAI

```bash
export ROUTERAI_API_KEY="$OPENAI_API_KEY"

./llm-client \
  -address https://api.openai.com \
  -model gpt-3.5-turbo
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤

```bash
export LLM_CLIENT_LOG=/tmp/llm-debug.log
./llm-client

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–∞
cat /tmp/llm-debug.log
```

–í –ª–æ–≥–µ –±—É–¥—É—Ç –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –≤ –∫—Ä–∞—Å–∏–≤–æ–º JSON —Ñ–æ—Ä–º–∞—Ç–µ:

```json
HTTP REQUEST:
{
  "model": "llama3",
  "messages": [
    {"role": "system", "content": "You are a helpful assistant."},
    {"role": "user", "content": "–ü—Ä–∏–≤–µ—Ç!"}
  ],
  "stream": true,
  "temperature": 0.7,
  "top_p": 0.9
}

FULL RESPONSE:
{
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "message": {
        "content": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ß–µ–º —è –º–æ–≥—É –ø–æ–º–æ—á—å?",
        "role": "assistant"
      }
    }
  ],
  "object": "chat.completion"
}
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ main.go           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ app_config.go     # –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ config.go         # CLI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ client.go         # HTTP –∫–ª–∏–µ–Ω—Ç (OpenAI + Ollama)
‚îú‚îÄ‚îÄ messages.go       # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ ui.go             # Bubble Tea TUI
‚îú‚îÄ‚îÄ logger.go         # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ config.json       # –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ go.mod            # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md         # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ CONFIG.md         # –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

## –°–±–æ—Ä–∫–∞

### Debug

```bash
go build -o llm-client .
```

### Release

```bash
CGO_ENABLED=0 go build -ldflags="-s -w" -o llm-client .
```

### –ö—Ä–æ—Å—Å-–∫–æ–º–ø–∏–ª—è—Ü–∏—è

```bash
GOOS=linux GOARCH=amd64 go build -o llm-client-linux .
GOOS=darwin GOARCH=amd64 go build -o llm-client-macos .
GOOS=windows GOARCH=amd64 go build -o llm-client.exe .
```

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- [bubbletea](https://github.com/charmbracelet/bubbletea) ‚Äî TUI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- [lipgloss](https://github.com/charmbracelet/lipgloss) ‚Äî —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
